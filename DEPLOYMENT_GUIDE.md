# Hadoop部署系统 - 部署指南

## 概述

本系统提供了三种Hadoop集群部署模式，满足不同用户的需求：

1. **全自动配置** - 适合快速部署标准集群
2. **半自动配置** - 适合有一定经验的用户
3. **纯手动配置** - 适合高级用户和特殊需求

## 部署模式详解

### 1. 全自动配置 (`/deploy/auto`)

**特点：**
- 系统自动完成所有配置步骤
- 无需人工干预
- 适合快速部署标准集群

**适用场景：**
- 快速原型验证
- 标准环境部署
- 学习和测试环境

**页面功能：**
- 实时显示部署进度
- 步骤化部署过程
- 自动验证部署结果

### 2. 半自动配置 (`/deploy/semiAutoConfig`)

**特点：**
- 系统完成基础配置
- 允许用户自定义关键参数
- 部分步骤需要用户确认

**可配置项：**
- Hadoop版本选择
- Java版本选择
- 集群节点配置
- 性能参数调整
- 组件选择（Hive、Spark、HBase等）

**页面功能：**
- 表单化配置界面
- 配置验证功能
- 用户确认机制
- 实时部署进度

### 3. 纯手动配置 (`/deploy/manualConfig`)

**特点：**
- 完全手动配置所有参数
- 提供详细的配置文件编辑
- 完全控制每个细节

**可配置项：**
- 系统环境配置
- 核心配置文件（core-site.xml, hdfs-site.xml等）
- 环境变量设置
- 集群节点配置
- 安全配置
- 性能调优参数

**页面功能：**
- 配置文件编辑器
- 脚本生成功能
- 详细部署日志
- 多步骤确认机制

## 页面路由说明

### 主要路由

| 路由 | 页面 | 功能 |
|------|------|------|
| `/deploy/method` | 部署方式选择 | 选择三种部署模式之一 |
| `/deploy/auto` | 全自动部署 | 全自动部署进度页面 |
| `/deploy/semiAutoConfig` | 半自动配置 | 半自动配置表单页面 |
| `/deploy/semi-auto/progress` | 半自动部署进度 | 半自动部署进度页面 |
| `/deploy/manualConfig` | 手动配置 | 手动配置表单页面 |
| `/deploy/manual/progress` | 手动部署进度 | 手动部署进度页面 |

### 数据流

1. **服务器配置** → 存储在 `sessionStorage.serverConfig`
2. **半自动配置** → 存储在 `sessionStorage.semiAutoConfig`
3. **手动配置** → 存储在 `sessionStorage.manualConfig`

## 使用流程

### 全自动部署流程
1. 访问 `/deploy/method`
2. 选择"全自动配置"
3. 跳转到 `/deploy/auto`
4. 点击"开始自动部署"
5. 等待部署完成

### 半自动部署流程
1. 访问 `/deploy/method`
2. 选择"半自动配置"
3. 跳转到 `/deploy/semiAutoConfig`
4. 填写配置表单
5. 点击"开始部署"
6. 跳转到 `/deploy/semi-auto/progress`
7. 按需确认部署步骤
8. 等待部署完成

### 手动部署流程
1. 访问 `/deploy/method`
2. 选择"纯手动配置"
3. 跳转到 `/deploy/manualConfig`
4. 填写详细配置
5. 可选择生成部署脚本
6. 点击"开始部署"
7. 跳转到 `/deploy/manual/progress`
8. 按需确认关键步骤
9. 查看详细部署日志
10. 等待部署完成

## 技术特性

### 前端特性
- 响应式设计，支持移动端
- Bootstrap 5 UI框架
- 实时进度显示
- 用户交互确认机制
- 配置验证功能

### 后端特性
- Flask Web框架
- 路由管理
- 日志记录
- 错误处理

### 数据管理
- SessionStorage存储配置
- 配置验证机制
- 数据持久化

## 注意事项

1. **配置验证**：所有模式都提供配置验证功能，建议在部署前进行验证
2. **用户确认**：半自动和手动模式会在关键步骤要求用户确认
3. **日志记录**：手动模式提供详细的部署日志
4. **错误处理**：所有模式都包含错误处理和回滚机制
5. **安全考虑**：手动模式支持安全配置选项

## 扩展功能

### 计划中的功能
- 集群状态监控
- 配置备份和恢复
- 多集群管理
- 自动化测试
- 性能基准测试

### 自定义扩展
- 支持自定义部署脚本
- 插件化组件管理
- 配置模板系统
- 部署策略定制

## 故障排除

### 常见问题
1. **配置验证失败**：检查参数格式和取值范围
2. **部署中断**：查看日志，重新开始部署
3. **权限问题**：确保有足够的系统权限
4. **网络问题**：检查网络连接和防火墙设置

### 日志查看
- 浏览器控制台日志
- 部署进度页面日志
- 系统日志文件

## 联系支持

如有问题或建议，请联系开发团队或查看项目文档。 